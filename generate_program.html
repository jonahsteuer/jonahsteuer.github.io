<!DOCTYPE html>
<html>
<head>
	<title>Program Builder</title>

	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>
	 /* Dropdown Button */
.dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
}
/* The container <div> - needed to position the dropdown content */
#dropdown {
    position: relative;
    display: inline-block;
}
/* Dropdown Content (Hidden by Default) */
#dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}
/* Links inside the dropdown */
#dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}
/* Change color of dropdown links on hover */
#dropdown-content a:hover {background-color: #ddd}
/* Show the dropdown menu on hover */
#dropdown:hover #dropdown-content {
    display: block;
}
/* Change the background color of the dropdown button when the dropdown content is shown */
#dropdown:hover #dropbtn {
    background-color: #3e8e41;
} 
#exercise_inputs {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
#goal_card{
	position: relative;
	height:180px;
}
#stress_paragraph{
	position:absolute;
	top:0;
	right: 0;
	max-width:65%;
}
#stress_card{
	position: relative;
	height:200px;
}
#div_paragraph{
	position:absolute;
	top:0;
	right: 0;
	max-width:65%;
}
#goals{
	height: 480px;
}
#card_image{
	width:100%;
}
#card_paragraph{
	padding: 10px;
	font-size: 85%;
}
.w3-col{
	height: 38px;
}
</style>


</head>
<body>
							<!-- navigation bar -->
	<div class = "w3-container w3-black w3-top">

	
	<a href="#" target = "_top">

		<button class = "w3-btn w3-hover-red" >
			Home
		</button>

	</a>
	

	<button class = "w3-btn w3-hover-red">
		About
	</button>

	<a href="log_workout.html">
	<button class = "w3-btn w3-hover-red">Log Workout</button>
	</a>

	<div id = "dropdown">
		<button id = dropdown-btn class = "w3-btn w3-hover-red">
			Track nutrition
			 <i class="fa fa-caret-down"></i>
		</button>

		<div id = "dropdown-content">
			<a href="log_weight.html">Log weight</a>
			<a href="#">Log calories</a>
		</div>
	</div>


	<a href="max_calc.html">
	<button class = "w3-btn w3-hover-red">
		1RM Calculator
	</button>
	</a>
	<a href="program_builder.html">
		<button class = "w3-btn w3-hover-red "> Program builder </button>	
	</a>
	
	<div id = "dropdown">
		<button id = "dropdown-btn" class = "w3-btn w3-hover-red">
			Data
			<i class = "fa fa-caret-down"></i>
		</button>

		<div id = "dropdown-content">
			<a href="lifting_data.html"> Lifting Data</a>
			<a href="nutrition_data.html"> Nutrition Data</a>
		</div>
	</div>
	
</div> 

<br>
<br>

										<!-- content -->	                            
				  <!-- input form -->

<div class = "w3-container w3-content" style="max-width:900px;">
	<div id = "error" style="color: red;"></div>

		<button class="w3-button w3-gray" style="width: 30%;">Personalized Program</button>
		<button class="w3-button w3-light-gray" style="width:30%;">Build your own Program</button>
</div>

<div class = "w3-container w3-content" style = "padding:0px;max-width:900px;" >
	<div class = "w3-card w3-content w3-round-large w3-padding">
		<h4>Step 1: Name your program</h4>
		<input style = "width: 60%;" type="text" id = "program_name" placeholder="John Doe's max muscle plan">
	</div>
	<br>
								<!-- goal -->
	<div class = "w3-card w3-content w3-round-large w3-padding" style = "height: 600px"> 
				
		<h3 style="width: 50%;"> Step 2: Choose your Goal</h3>
			<div class = "w3-row-padding">
				<div id = "goals" class=" w3-third w3-card-4">
							<!-- powerlifting goal -->
					<img id = "card_image" src="powerlifting.jpg">
					<h4 class="w3-center "><strong>Powerlifting</strong></h4>
					<p id= "card_paragraph">This program is for those who mainly want to increase their squat, bench and deadlift. It uses a low to moderate amount of volume(sets) and will contain around 4-5 exercises per workout.</p>

					<div class="w3-center">
						<button id = "select_button1" class="w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "selected(this);" style="width: 40%;">Select</button>
					</div>
					
				</div> 
				

				<div id = "goals" class=" w3-card-4 w3-third">
					<img id = "card_image" src="powerbuilding.jpg">
					<h4 class = "w3-center"> <strong>Powerbuilding</strong></h4>
					<p id ="card_paragraph">This program is for those who want to increase their squat bench and deadlift while still gaining a decent amount of muscle. It has a relatively moderate amount of volume and has around 5-6 exercises per workout.</p>

					<div class="w3-center">
						<button id = "select_button2" class="w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "selected(this);" style="width: 40%;">Select</button>
					</div>
				</div>
				<div id = "goals" class=" w3-card-4 w3-third">
					<img id = "card_image" src="bodybuilding.jpg">
					<h4 class="w3-center"><strong>Bodybuilding</strong></h4>
					<p id ="card_paragraph">This program is for those who want to gain as much muscle mass as possible. Assistance exercises are customizable Contains around 5-6 exercises per workout and has more of a high amount of volume.</p>

					<div class="w3-center">
						<button id = "select_button3" class="w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "selected(this);" style="width: 40%;">Select</button>
					</div>
				</div>
			</div>
					
				
					
	</div>
	
	<br>
	
								<!-- stress level -->
	<div id = "stress_card" class = "w3-padding w3-card w3-round-large " style="height: 750px;" > 
		<h3> Step 3: Input Stress level </h3>

									<!-- low stress -->
		<div  class = "w3-card w3-row w3-third" style="height:210px;width: 30%;">
			<img id = "card_image" src="low_stress.jpg" style="height: 100%;">
			
		</div>
			
		<div class = "w3-card w3-row w3-twothird w3-padding" style="width:70%;">
			<h4 ><strong>Low Stress</strong></h4>
				<p id = "card_paragraph">1. You get at least 7-8 hours of sleep <br> 2. Lifting is your only form of high intensity exercise(light-moderate cardio a couple times a week is ok) <br> 3. Your job/school does not make you feel overly stressed</p>

			<div class="w3-center">
					<button id = "stress_button1" class=" w3-small w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "stress_selected(this);">Select</button>
			</div>
		</div>

									<!-- moderate stress -->
		<div  class = "w3-card w3-row w3-third" style="height:228px;width: 30%;">
			<img id = "card_image" src="moderate_stress.jpg" style="height: 100%;">
			
		</div>
										
		<div class = "w3-card w3-row w3-twothird w3-padding" style="height:228px;width:70%;">
			<h4 ><strong>Moderate Stress</strong></h4>
				<p id = "card_paragraph">1. You get around 6-7 hours of sleep <br> 2.  you do some other form of moderate-high intensity exercise 2-3 times per week(ex. cardio, ju-jitsu, sport practice etc.) <br> 3. Your job/school might give you a headache every once and a while or all the work makes you feel slightly overwhelmed</p>

			<div class="w3-center">
					<button id = "stress_button2" class=" w3-small w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "stress_selected(this);">Select</button>
			</div>
		</div>	
										<!-- high stress -->
		<div  class = "w3-card w3-row w3-third" style="height:210px;width: 30%;">
			<img id = "card_image" src="high_stress.jpg" style="height: 100%;">
			
		</div>
		
		<div class = "w3-card w3-row w3-twothird w3-padding" style="height:210px;width:70%;">
			<h4 ><strong>High Stress </strong></h4>
				<p id = "card_paragraph">1. you constantly get less than 6 hours of sleep <br> 2. You do another form of high-intensity exercise at least 3-4 times per week(ex. HIIT training, HARD sport practice, olympic weightlifting, etc.) <br> 3. Your job/school constantly makes you feel stressed and you travel a lot.</p>

			<div class="w3-center">
					<button id = "stress_button3" class=" w3-small w3-round-xlarge w3-btn w3-black w3-hover-red" onclick = "stress_selected(this);" >Select</button>
			</div>
		</div>	
		
		
	</div>		
	<br>
	<div class = "w3-card w3-padding" >
		<h4>
			<strong>Step 4: Input Training Maxes</strong>
		</h4>

		<div class = "w3-row">
			<select id = "exercise1" class = "w3-col w3-select" style="width:25%;">
				<option>Back Squat</option>
				<option>Front Squat</option>
				<option>Leg Press</option>
				<option>Hack Squat</option>
			</select>

			
			<input class = "w3-col w3-margin-left" id = "exercise1_weight" style = "width: 9%;" type="text" onkeyup = "calculate_max(this)" placeholder="weight">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">X</div>
			<input class = "w3-col" id = "exercise1_reps" style = "width: 9%;" type="text" onkeyup="calculate_max(this)" placeholder="reps">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">  = </div>

			<div id = "max1" class=" w3-col w3-border w3-center" style="font-size:16px;width: 5%"></div>
			
			
			<i id = "green_check1" class=" w3-hide w3-col w3-circle w3-center w3-green material-icons" style="margin-left:50px;width: 32px;height: 25px;">check</i>

			
			<i id = "red_x1" class=" w3-col w3-circle w3-red w3-center material-icons" style="margin-left:50px;width: 32px;height: 25px;">clear</i>


			
		</div>
		<br>
		<div class = "w3-row">
			<select id = "exercise2" class = "w3-col w3-select" style="width:25%;">
				<option>Deadlift</option>
				<option>Snatch-Grip Deadlift</option>
				<option>Block Pull</option>
			</select>

			
			<input class = "w3-col w3-margin-left" id = "exercise2_weight" style = "width: 9%;" type="text" onkeyup = "calculate_max(this)" placeholder="weight">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">X</div>
			<input class = "w3-col" id = "exercise2_reps" style = "width: 9%;" type="text" onkeyup="calculate_max(this)" placeholder="reps">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">  = </div>

			<div id = "max2" class=" w3-col w3-border w3-center" style="font-size:16px;width: 5%"></div>
			
			
			<i id = "green_check2" class=" w3-hide w3-col w3-circle w3-center w3-green material-icons" style="margin-left:50px;width: 32px;height: 25px;">check</i>

			
			<i id = "red_x2" class=" w3-col w3-circle w3-red w3-center material-icons" style="margin-left:50px;width: 32px;height: 25px;">clear</i>

			
			
		</div>

		<br>
		<div class = "w3-row">
			<select id = "exercise3" class = "w3-col w3-select" style="width:25%;">
				<option>Bench Press</option>
				<option>Close-Grip Bench</option>
				<option>Incline Bench Press</option>
				<option>Dumbbell Bench Press</option>
				<option>Paused Bench Press</option>
			</select>

			
			<input class = "w3-col w3-margin-left" id = "exercise3_weight" style = "width: 9%;" type="text" onkeyup = "calculate_max(this)" placeholder="weight">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">X</div>
			<input class = "w3-col" id = "exercise3_reps" style = "width: 9%;" type="text" onkeyup="calculate_max(this)" placeholder="reps">
			<div class="w3-col w3-center " style="width: 5%;font-size:20px;">  = </div>

			<div id = "max3" class=" w3-col w3-border w3-center" style="font-size:16px;width: 5%"></div>
			
			
			<i id = "green_check3" class=" w3-hide w3-col w3-circle w3-center w3-green material-icons" style="margin-left:50px;width: 32px;height: 25px;">check</i>

			
			<i id = "red_x3" class=" w3-col w3-circle w3-red w3-center material-icons" style="margin-left:50px;width: 32px;height: 25px;">clear</i>

			
			
		</div>


	</div>

	<br>

	<div class = "w3-card w3-content w3-round-large" style="width: 100%;"> 
		<div class = "w3-padding">
			Training age:<br>
			<select id = "age" class = "w3-select">
				<option> < 2 years</option>
				<option> 2-10 years </option>
				<option> > 10 years</option>

			</select>
		
		</div>

		
	</div>	


		<br>

											<!-- submit button -->
		<button class = "w3-padding w3-button w3-black w3-hover-red" onclick = "submit_data();store_name(document.getElementById('program_name').value);" style = "width:100%;">Submit</button>
				
</div>
			
	
<div id = "values"></div>		
			


		
	
	
</div>
<script src = "exercises.js"></script>

<script>
	name_is_selected = false;
	max_is_selected = false;
	stress_is_selected = false;
	goal_is_selected = false;

	var exercise_data = [];

	var today = new Date();
	var dd = today.getDate();
	var mm = today.getMonth()+1; 
	var yyyy = today.getFullYear();
	if(dd<10)
	{
	    dd='0'+dd;
	} 
	if(mm<10) 
	{
	    mm='0'+mm;
	} 
	
	today = mm+'/'+dd+'/'+yyyy;
	console.log(today);

	function remove(str, element) {
	    const index = str.indexOf(element);
	    var element = str.slice(index, 1);
	    return element;
	}
	function store_name(name){
		
		program_number = Number(localStorage["program_number"]);
		localStorage["program" + program_number + "_name"] = name;
		
	}
	
	function selected(button){

		for(var i = 1; i<4; i++){
			var select_button = document.getElementById("select_button" + i);
			select_button.setAttribute('class','w3-black w3-hover-red w3-round-xlarge w3-btn');
			select_button.innerHTML = 'Select';
		}
	
		if(button.innerHTML != "Selected"){
		
			button.innerHTML = 'Selected';
			button.setAttribute('class','w3-red w3-round-xlarge w3-btn');
		}else{
			button.innerHTML = "Select";
			button.setAttribute('class','w3-black w3-hover-red w3-round-xlarge w3-btn');
		}
		goal_is_selected = true;
	}
	function stress_selected(button){
		for(var i = 1; i<4; i++){
			var select_button = document.getElementById("stress_button" + i);
			select_button.setAttribute('class'," w3-small w3-round-xlarge w3-btn w3-black w3-hover-red");
			select_button.innerHTML = 'Select';
		}
	
		if(button.innerHTML != "Selected"){
			button.innerHTML = 'Selected';
			button.setAttribute('class'," w3-small w3-round-xlarge w3-btn w3-red");
		}else{
			button.innerHTML = "Select";
			button.setAttribute('class'," w3-small w3-round-xlarge w3-btn w3-black w3-hover-red");
		}

		stress_is_selected = true;
	}
	function is_selected(){

		var name = document.getElementById("program_name").value;
		var max1 = document.getElementById("max1").innerHTML;
		var max2 = document.getElementById("max2").innerHTML;
		var max3 = document.getElementById("max3").innerHTML;
		
		if(name != undefined){
			name_is_selected = true;
		}
		if(max1 != undefined && max2 != undefined && max3 != undefined ){
			max_is_selected = true;
		}

	}
	function calculate_max(input){
		var _index = input.id.indexOf("_");
		var beginning = input.id.substr(0,_index);
		var end = input.id.substr(_index);
		var num = input.id.substr(_index-1,1);
		var input = Number(input.value);
		if(end == "_weight"){
			var other_input = Number(document.getElementById(beginning + "_reps").value);
		}else{
			var other_input = Number(document.getElementById(beginning + "_weight").value);
		}
		
		if(input != 0 && other_input != 0){
			if(end == "_weight"){
			var max = input * (1 + other_input/30);
		}else{
			var max = other_input * (1 + input/30);
		}
		document.getElementById("max" + num).innerHTML = Math.round(max);
		document.getElementById("green_check" + num).setAttribute("class","w3-col w3-circle w3-center w3-green material-icons");
		document.getElementById("red_x" + num).setAttribute("class","w3-hide w3-col w3-circle w3-center w3-red material-icons");
		}else{
			document.getElementById("green_check" + num).setAttribute("class","w3-hide w3-col w3-circle w3-center w3-green material-icons");
		document.getElementById("red_x" + num).setAttribute("class"," w3-col w3-circle w3-center w3-red material-icons");
		}
		
		
	}
	function split_volume(week1, training_age, main_volume, accessory_volume, other_volume, optional_volume){
		var main_keys = Object.keys(main_volume);
		var main_values = Object.values(main_volume);
		for(var i in main_keys){
			if(main_keys[i] == "bench"){
				if(training_age == "intermediate"){
					var day1 = {};
					var day3 = {};

					day1[main_keys[i]] = main_values[i][0];
					day3[main_keys[i]] = main_values[i][1];

					week1["day1"].push(day1);
					week1["day4"].push(day3);
				}else if(training_age == "beginner"){
					var day1 = {};
					day1[main_keys[i]] = main_values[i][0];
					week1["day1"].push(day1);
				}
				
			}else if(main_keys[i] == "squat"){
				if(training_age == "intermediate"){
					var day1 = {};
					var day3 = {};

					day1[main_keys[i]] = main_values[i][0];
					day3[main_keys[i]] = main_values[i][1];

					week1["day1"].push(day1);
					week1["day4"].push(day3);
				}else if(training_age == "beginner"){
					var day2 = {};
					day2[main_keys[i]] = main_values[i][0];
					week1["day2"].push(day2);
				}
				
			}else if(main_keys[i] == "deadlift"){
				var day2 = {};
				day2[main_keys[i]] = main_values[i];
				week1["day2"].push(day2);
			}else if(main_keys[i] == "bench_variation"){
				if(training_age == "beginner"){
					var day4 = {};
					day4[main_keys[i]] = main_values[i];
					week1["day4"].push(day4);
				}else if(training_age == "intermediate"){
					var day2 = {};
					day2[main_keys[i]] = main_values[i];
					week1["day2"].push(day2);
				}
				
			}else if(main_keys[i] == "squat_variation"){
				if(training_age == "beginner"){
					var day5 = {};
					day5[main_keys[i]] = main_values[i];
					week1["day5"].push(day5);
				}else if(training_age == "intermediate"){
					var day2 = {};
					day2[main_keys[i]] = main_values[i];
					week1["day2"].push(day2);
				}
			}else if(main_keys[i] == "deadlift_variation"){
				var day5 = {};
				day5[main_keys[i]] = main_values[i];
				week1["day5"].push(day5);
			}
		}
		var accessory_keys = Object.keys(accessory_volume);
		var accessory_values = Object.values(accessory_volume);

		for(var i in accessory_keys){
			//add bench accessory to day one and day4
			if(accessory_keys[i] == "bench_accessory") {
				
				if(accessory_values[i].length == 2){
				var day1 = {};
				var day4 = {};

				day1[accessory_keys[i]] = accessory_values[i][0];
				day4[accessory_keys[i]] = accessory_values[i][1];

				week1["day1"].push(day1);
				week1["day4"].push(day4);
				}else if(accessory_values[i].length == 1){
					var day1 = {};
					day1[accessory_keys[i]] = accessory_values[i][0];

					week1["day1"].push(day1);
				}
				
				
			//add squat to day 2 and/or 5
			}else if(accessory_keys[i] == "squat_accessory"){
				if(training_age == "beginner"){
					var day2 = {};
					day2[accessory_keys[i]] = accessory_values[i][0];

					week1["day2"].push(day2);
				}else if(training_age == "intermediate"){
					var day5 = {};
					day5[accessory_keys[i]] = accessory_values[i][0];

					week1["day5"].push(day5);
				}
			//add deadlift to 2 and/or 5
			}else if(accessory_keys[i] == "deadlift_accessory"){
				if(accessory_values[i].length == 2){
					var day2 = {};
					var day5 = {};

					day2[accessory_keys[i]] = accessory_values[i][0];
					day5[accessory_keys[i]] = accessory_values[i][1];

					week1["day2"].push(day2);
					week1["day5"].push(day5);
				}else{
					var day5 = {};
					day5[accessory_keys[i]] = accessory_values[i][0];

					week1["day5"].push(day5);
				}
			}
		}

		var other_keys = Object.keys(other_volume);
		var other_values = Object.values(other_volume);

		for(var i in other_keys){
			if(other_keys[i] == "vert_pull"){
				var day1 = {};
				var day4 = {};

				day1[other_keys[i]] = other_values[i][0];
				day4[other_keys[i]] = other_values[i][1];

				week1["day1"].push(day1);
				week1["day4"].push(day4);
			}else if(other_keys[i] == "front_delts"){
				var day1 = {};
				var day4 = {};

				day1[other_keys[i]] = other_values[i][0];
				day4[other_keys[i]] = other_values[i][1];

				week1["day1"].push(day1);
				week1["day4"].push(day4);
			}else if(other_keys[i] == "horizontal_pull"){
				var day2 = {};
				var day5 = {};

				day2[other_keys[i]] = other_values[i][0];
				day5[other_keys[i]] = other_values[i][1];

				week1["day2"].push(day2);
				week1["day5"].push(day5);
			}
		}
		var optional_keys = Object.keys(optional_volume);
		var optional_values = Object.values(optional_volume);

		for(var i in optional_keys){
			if(optional_keys[i] == "triceps_optional"){
				var day1 = {};
				var day4 = {};

				day1[optional_keys[i]] = optional_values[i][0];
				day4[optional_keys[i]] = optional_values[i][1];

				week1["day1"].push(day1);
				week1["day4"].push(day4);
			}else if(optional_keys == "biceps_optional"){
				var day2 = {};
				var day5 = {};

				day2[optional_keys[i]] = optional_values[i][0];
				day5[optional_keys[i]] = optional_values[i][1];

				week1["day2"].push(day2);
				week1["day5"].push(day5);
			}else if(optional_keys == "calves_optional"){
				var day2 = {};
				var day5 = {};

				day2[optional_keys[i]] = optional_values[i][0];
				day5[optional_keys[i]] = optional_values[i][1];

				week1["day2"].push(day2);
				week1["day5"].push(day5);
			}
		}
		console.log(week1);
		var all_weeks = [];
		var keys = Object.keys(week1);
		var values = Object.values(week1);

		if(training_age == "beginner"){
			for(var i = 0; i < 4; i++){
				var week = {};

				for(var key in keys){

					if(values[key] != "rest"){
						var day = {};
						for(var x in values[key]){
							var key_exer = Object.keys(values[key][x]);
							key_exer = key_exer[0];

							var value = Object.values(values[key][x]);
							value = value[0];

							day[key_exer] = value;

							week[keys[key]] = day;
						}
					}else{
						week[keys[key]] = values[key];
					}
				}
				all_weeks.push(week);
			}
		}else if(training_age == "intermediate"){
			
			
			
			for(var i = 0; i < 4; i++){ //4 weeks
				
				var week = {};
				for(var key in keys){
					
					if(values[key] != "rest"){
						var day = {};
						
						for(var x in values[key]){

							var key_exer = Object.keys(values[key][x]);
						
							key_exer = key_exer[0];
							var value = Object.values(values[key][x]);

							value = value[0];
			
							var index = value.indexOf("-");
						
							if(value.indexOf("-") > -1){
								
								
								if(value.length < 6){
									var start_rep = value.indexOf("-") - 1;
									var rep = Number(value.charAt(start_rep));
								}else{
									var start_rep = value.indexOf("-") - 2;
									var rep = Number(value.substr(start_rep, 2));
								}
								

								value = value.substring(0, start_rep);
							
								
								
								if(i == 0){ //if its first week
								
									day[key_exer] = value + rep;
								
								}else if(i == 1){
									day[key_exer] = value + (rep-1);
									
								}else if(i == 2){
									day[key_exer] = value + (rep-2);
									
								}else if(i == 3){
									day[key_exer] = value + (rep-2);
									
								}

							}
						}

						week[keys[key]] = day;
					}else{
						week[keys[key]] = values[key];
					}
					
				}
				
				all_weeks.push(week);
			}
		}
		
		console.log(all_weeks);
		return all_weeks;
	}
	function get_power_begin(stress){
		//average sets for main: squat: 9, deadlift, 6, bench: 9
		if(stress == "low"){
			var main_volume = {"squat":["5x5"], "deadlift": "4x5", "bench":["5x5"], "squat_variation":"5x4", "deadlift_variation":"3x4", "bench_variation":"5x4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["4x10"], "deadlift_accessory":["4x6","3x8"] , "bench_accessory": ["3x8","3x10"]};
			var other_volume = {"vert_pull":["3x6","3x10"], "horizontal_pull":["3x6","3x10"], "front_delts":["3x6","3x8"]};
		}else if(stress == "moderate"){
			var main_volume = {"squat": ["5x5"], "deadlift": "3x5", "bench":["5x5"], "squat_variation":"4x4", "deadlift_variation":"3x4", "bench_variation":"4x4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["4x10"], "deadlift_accessory":["3x6","3x8"], "bench_accessory": ["5x8"]};
			var other_volume = {"vert_pull":["3x6","2x10"], "horizontal_pull":["3x6","2x10"], "front_delts":["3x6","3x8"]};

			
		}else if(stress == "high"){
			var main_volume = {"squat":["4x5"], "deadlift": "3x5", "bench":["5x4"], "squat_variation":"4x4", "deadlift_variation":"3x4", "bench_variation":"4x4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["4x10"], "deadlift_accessory":["5x6"], "bench_accessory": ["4x9"]};
			var other_volume = {"vert_pull":["2x6","2x10"], "front_delts":["3x6","2x8"], "horizontal_pull":["2x6","2x10"], };
		}
		var optional_volume = {"biceps_optional":["4x10","4x12"], "triceps_optional":["3x10","3x12"], "calves_optional":["4x12","4x15"]}

		//split: upper, lower, rest, upper, lower, rest rest
		//exercise order: main/variation, accessory, other, optional
		

		var week1 = {"day1":[], "day2":[], "day3":"rest", "day4":[], "day5":[], "day6":"rest", "day7":"rest"}
		
		
		var program = split_volume(week1, "beginner", main_volume, accessory_volume, other_volume, optional_volume);
		return program;
		}	
	function get_power_intermed(stress) {
		//average sets for main: squat: 9, deadlift, 6, bench: 9
		if(stress == "low"){
			var main_volume = {"squat":["3x9-7","4x5-3"], "deadlift": "4x5-3", "bench":["3x9-7","4x5-3"], "squat_variation":"5x6-4", "deadlift_variation":"3x6-4", "bench_variation":"5x6-4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["4x10-8"], "deadlift_accessory":["4x6-4","3x8-6"] , "bench_accessory": ["3x8-6","3x10-8"]};
			var other_volume = {"vert_pull":["3x6-8","3x10-12"], "horizontal_pull":["3x6-8","3x10-12"], "front_delts":["3x6-4","3x8-6"]};
		}else if(stress == "moderate"){
			var main_volume = {"squat": ["3x9-7","4x5-3"], "deadlift": "3x5-3", "bench":["3x9-7","4x5-3"], "squat_variation":"4x6-4", "deadlift_variation":"3x6-4", "bench_variation":"4x6-4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["4x10-8"], "deadlift_accessory":["3x6-4","3x8-6"], "bench_accessory": ["4x8-6"]};
			var other_volume = {"vert_pull":["3x6-8","2x10-12"], "horizontal_pull":["3x6-8","2x10-12"], "front_delts":["3x6-4","3x8-6"]};

			
		}else if(stress == "high"){
			var main_volume = {"squat":["3x9-7","4x5-3"], "deadlift": "3x5-3", "bench":["3x9-7","4x5-3"], "squat_variation":"4x6-4", "deadlift_variation":"3x6-4", "bench_variation":"4x6-4"};
			//squat_accessory: other quad movements, deadlift: hamstring/low back movements/barbell rows, bench: other chest/tri movements
			var accessory_volume = {"squat_accessory":["3x10-8"], "deadlift_accessory":["5x6-4"], "bench_accessory": ["3x8-6"]};
			var other_volume = {"vert_pull":["2x6-8","2x10-12"], "front_delts":["3x6-4","2x8-6"], "horizontal_pull":["2x6-8","2x10-12"], };
		}
		var optional_volume = {"biceps_optional":["4x10-12","4x12-15"], "triceps_optional":["3x10-12","3x12-15"], "calves_optional":["4x12-15","4x15-20"]};

		//split: upper, lower, rest, upper, lower, rest rest
		//exercise order: main/variation, accessory, other, optional
		

		var week1 = {"day1":[], "day2":[], "day3":"rest", "day4":[], "day5":[], "day6":"rest", "day7":"rest"}
		
		
		var program = split_volume(week1,"intermediate", main_volume, accessory_volume, other_volume, optional_volume);
		return program;
	}
	function get_power_intermed_peak(stress){

	}
	function submit_data(){
		is_selected();
		if(stress_is_selected === false || goal_is_selected === false || name_is_selected === false || max_is_selected === false){
			location.href = "#top";
			var error = "*Please ";

			if(stress_is_selected === false){
				error += "select a stress level, ";
			}
			if(goal_is_selected === false){
				error += "select a goal, ";
			}
			if(name_is_selected === false){
				error += "name your program, ";
			}
			if(max_is_selected === false){
				error += "enter all your maxes, ";
			}

			document.getElementById("error").innerHTML += error;
		}else{
			// localStorage.clear();
			var stress_data, days_data, age_data, goal_data;
			
			if(document.getElementById("select_button1").innerHTML == "Selected"){
				goal_data = "powerlifting";
			}else if(document.getElementById("select_button2").innerHTML == "Selected"){
				goal_data = "powerbuilding";
			}else if(document.getElementById("select_button3").innerHTML == "Selected"){
				goal_data = "bodybuilding";
			}
			
			if(document.getElementById("stress_button1").innerHTML == "Selected"){
				stress_data = "low";
			}else if(document.getElementById("stress_button2").innerHTML == "Selected"){
				stress_data = "moderate";
			}else if(document.getElementById("stress_button3").innerHTML == "Selected"){
				stress_data = "high"
			}
			age_data = document.getElementById("age").value;

			//get number of programs
			keys = Object.keys(localStorage);
			if(keys.includes("program_number")){
				var num = Number(localStorage["program_number"]);
				localStorage["program_number"] = num + 1;
			}else{
				localStorage["program_number"] = 1;
			}

			quad_main = document.getElementById("exercise1").value;
			glute_main = document.getElementById("exercise2").value;
			chest_main = document.getElementById("exercise3").value;

			quad_max = document.getElementById("exercise1_weight").value;
			glute_max = document.getElementById("exercise2_weight").value;
			chest_max = document.getElementById("exercise3_weight").value;

			var program_number = localStorage["program_number"];

			localStorage["program" + program_number + "_start_date"] = today;
			localStorage["program" + program_number + "_goal"] = goal_data;

			localStorage["program" + program_number + "_quadMain"] = quad_main;
			localStorage["program" + program_number + "_chestMain"] = chest_main;
			localStorage["program" + program_number + "_gluteMain"] = glute_main;

			localStorage["program" + program_number + "_chestMain_max"] = chest_max;
			localStorage["program" + program_number + "_quadMain_max"] = quad_max;
			localStorage["program" + program_number + "_gluteMain_max"] = glute_max;
			get_program(stress_data,days_data,age_data,goal_data);
		}
		
	}
	function get_program(stress_level,days,training_age,goal){

		if(goal == "powerlifting"){
			//beginner powerlifter
			if(training_age == "< 2 years"){
				var program = get_power_begin(stress_level);

			}else if(training_age == "2-10 years"){
				var program = get_power_intermed(stress_level);
				var program_other = get_power_intermed_peak(stress_level);

			}else if(training_age == "> 10 years"){
				var program = get_power_advance(stress_level);
				var program_other = get_power_advance_peak(stress_level);
			}
		}else if(goal == "powerbuilding"){
			if(training_age == "< 2 years"){
				var program = get_powerbuild_begin(stress_level);
			}else if(training_age == "2-10 years"){
				var program = get_powerbuild_intermed(stress_level);
				var program_other = get_powerbuild_intermed_peak(stress_level);
			}else if(training_age == "> 10 years"){
				var program = get_powerbuild_advance(stress_level);
				var program_other = get_powerbuild_advance_peak(stress_level);
			}
		}else if(goal == "bodybuilding"){
			if(training_age == "< 2 years"){
				var program = get_bodybuild_begin(stress_level);
			}else if(training_age == "2-10 years"){
				var program = get_bodybuild_intermed(stress_level);
				
			}else if(training_age == "> 10 years"){
				var program = get_bodybuild_advance("low");
			}
		}
		var program_number = localStorage["program_number"];

		localStorage["program" + program_number] = JSON.stringify(program);

		location.href = "program_builder.html";
		
		// Phase I (Weeks 1-5) Week 1: 5x5 @ 70% Week 2: 5x5 @ 72.5% Week 3: 5x5 @ 75% Week 4: 5x5 @ 77.5% Week 5: 5x5 @ 80% Phase II (Weeks 6-10) Week 6: 4x6 @ 70% Week 7: 4x6 @ 72.5% Week 8: 4x6 @ 75% Week 9: 4x6 @ 77.5% Week 10: 4x6 @ 80% Phase III (Weeks 11-15) Week 11: 4x8 @ 70% Week 12: 4x8 @ 72.5% Week 13: 4x8 @ 75% Week 14: 3x8 @ 77.5% Week 15: 3x8 @ 80% NOTE for Phase III it is the most intense phase by far. You can skip weeks 14-15 if too much fatigue in the prior weeks have been accumulated. If things still feel well, you can do 3 or 4 sets for 8 on weeks 14-15. After you finish the plan, you can repeat it entirely but increase all percentages by 2.5%. As example for Phase I the 2nd Round would look like this: Phase I (Weeks 1-5) Week 1: 5x5 @ 72.5% Week 2: 5x5 @ 75% Week 3: 5x5 @ 77.5% Week 4: 5x5 @ 80% Week 5: 5x5 @ 82.5% 
		
	}
	
	
	
</script>

</body>
</html>